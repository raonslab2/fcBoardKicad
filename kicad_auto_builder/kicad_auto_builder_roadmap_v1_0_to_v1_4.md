# KiCad Auto Builder 로드맵 (v1.0 → v1.4) — 1페이지

## 0) 현 상태 (v1.0 완료)
- YAML 1개로 **부품 리졸브(LCSC/easyeda2kicad + role 매핑)** → **심볼/풋프린트 라이브러리 생성** → **회로도(.kicad_sch) 생성** → **JLC BOM 생성**까지 동작
- 회로도는 현재 “배치 + 라벨” 중심이며, **자동 wire 생성은 미구현(wires 비어 있음)**

## 1) 제품 목표(큰 틀)
**“설계 의도 입력 → 정합성 검증 → 회로/제조 산출물 생성 → 확장 가능한 자동화 플랫폼”**으로 발전  
- 신뢰성: 잘못된 핀/넷/풋프린트는 “즉시 발견”  
- 재현성: 동일 입력이면 동일 출력(버전/해시/manifest)  
- 확장성: 역할(role)/블록 템플릿을 코드 수정 없이 추가

---

## 2) 버전별 로드맵

### v1.1 — 안정화 핵심: 검증 + 연결
**기능**
- 핀-넷 검증 강화(내장 심볼 포함) + 에러 메시지 표준화(ref/role/pin_key/가능 핀 후보)
- net 라벨 좌표 기반 **wire 자동 생성(그리드 스냅/중복 제거/체인 연결)**
- YAML `value/footprint` override를 **LCSC 성공 여부와 무관하게 항상 우선 적용**

**산출물**
- `manifest.json`(리졸브 출처, 경고, 생성 파일 목록)
- 예제 YAML 3종(정상/핀오류/리졸브 실패) 고정

**완료 조건**
- 핀 오류는 빌드 중단(필수 부품), optional은 경고
- 동일 net이 2개 이상이면 `.kicad_sch`에 wire가 생성됨

---

### v1.2 — 규모 대응: 블록/시트화 + 템플릿 연결
**기능**
- YAML에 `sheet:` 또는 `block:` 도입 → Power/USB/IO 등 **계층 시트 생성**
- 블록 템플릿(예: buck_5v 표준 연결)으로 **규칙 기반 자동 연결**(최소 범위)

**산출물**
- 템플릿 카탈로그 문서 + 샘플 프로젝트 2종(전원보드, USB보드)

**완료 조건**
- 블록 2개 이상에서 시트 분리 생성 + 각 시트 간 글로벌 라벨/포트 연결 정상

---

### v1.3 — 제조 연계: BOM 고도화 + 리포트 체계
**기능**
- BOM 고도화: MPN/Manufacturer/대체품/수량 집계/DNP/옵션 BOM 분리
- 제조 리포트: 누락 풋프린트/심볼 불일치/리졸브 실패 원인 요약

**산출물**
- `bom_jlc.csv` 외 `bom_full.csv`(현업형), `report.md`(요약 리포트)

**완료 조건**
- 동일 부품 묶음 집계 정확 + 필수 제조 필드 누락 시 경고/오류 정책 일관

---

### v1.4 — PCB 자동화(선택/확장 단계)
**기능**
- (선택) `.kicad_pcb` 생성 기반 마련: 풋프린트 배치 프리셋, net class 기본 룰 세팅
- (선택) 외부 라우터/플러그인 연계 포인트 제공(내장 최적화는 범위 밖)

**산출물**
- `board_preset.yaml`(배치/룰 프리셋), 최소 동작 데모 프로젝트 1종

**완료 조건**
- PCB 파일 생성/열림 정상 + 기본 net class/룰이 적용되어 있음

---

## 3) 우선순위(권장 실행 순서)
1. **v1.1(검증+wire+manifest)**: 실사용 안정성 확보  
2. **v1.2(시트/블록/템플릿)**: 큰 설계 대응  
3. **v1.3(제조 산출물/리포트)**: 생산 연계  
4. **v1.4(PCB 자동화)**: “원클릭 보드” 확장

## 4) 운영 원칙(개발 규율)
- 스코프 관리: v1.1~v1.3은 “회로도 품질/제조 산출물” 중심, PCB 최적화는 v1.4 이후
- 회귀 방지: 예제 YAML 고정 + 최소 테스트 3개(정상/오류/경고)
